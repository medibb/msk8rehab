---
title: "NAS에서 포트에 기할당된 서비스 삭제하기"
author: "Jaehyun Lee"
date: "2024-05-19"
categories: [NAS, synology, portforwading, container]
image: "nasdelle.png"
---

# 1. 나스 접속

-   window powershell 에서 ssh 포트가 활성화된 나스에 접속
    -   ssh \[나스ID\]\@\[나스할당내부IP\] -p \[ssh포트번호\]
    -   나스비밀번호 입력

# 2. 포트 확인

-   새로 사용하고 싶은 포트번호에 할당된 서비스 확인
-   netstat -tulnp \| grep \[포트번호\]입력
    -   permission 제한 오류 뜨는 경우 앞에 sudo 붙여서 사용
-   다음과 같은 결과에서 프로세스ID 확인
    -   tcp 0 0 0.0.0.0:\[포트번호\] 0.0.0.0:\* LISTEN \[프로세스ID\]/\[할당된 서비스\]

# 3. 프로세스 (강제) 종료

-   kill \[프로세스ID\] 혹은 kill -9 \[프로세스ID\] (강제종료)

# 4. 새 서비스 할당

-   해당포트에 새로운 서비스 포트포워딩 및 시작

-   (필요시) 리디렉션 수정

    -   이전 서비스에서 리디렉션을 하고 있었으면 이전 서비스 수정 혹은 브라우저 캐시 삭제

# 5. Comment

시놀로지 카페에서도 제대로 답을 못들었던 케이스를 글로 남겨 놓은 것.

사건 발단은 파이썬 딥러닝 수업 중 내가 모르게 깔린 라이브러리 중에 dask 서비스가 있었던 것.

이게 자동으로 이전에 사용되던 포트를 덮어버렸다.

dask는 멀티코어로 병렬처리를 도와주는 파이썬 라이브러리..라고 하는데 처음 알았다.

홈페이지 관리가 막혀버려서, 환자와 PA 교육에 사용하는 사이트 업데이트가 불가능해 져서 꽤나 큰일이었는데, 시놀로지 카페에 답을 구해도 잘 모르겠더라. 답을 못들었고 들어도 무슨얘긴지 모르겠고..

하지만, ChatGPT-4o랑 대화해서 한방에 해결되었다. 역시 갓GPT..
